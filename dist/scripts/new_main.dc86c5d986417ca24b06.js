(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,n){for(var o=0;o<n.length;o++){var r=n[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,"string");if("object"!==t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===t(i)?i:String(i)),r)}var i}e.d({},{Z:()=>V});var o=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._photoName=t,this._photoLink=n,this._elementSelector=o,this._openImagePopup=V}var t,o;return t=e,(o=[{key:"_getTemplate",value:function(){return document.querySelector(this._elementSelector).content.querySelector(".element").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".element__delete").addEventListener("click",(function(){e._handleDeleteClick()})),this._element.querySelector(".element__button").addEventListener("click",(function(){e._handleLikeClick()})),this._element.querySelector(".element__img").addEventListener("click",(function(){e._handleImageClick(e._photoName,e._photoLink)}))}},{key:"_handleDeleteClick",value:function(){this._element.remove(),this._element=null}},{key:"_handleLikeClick",value:function(){this._element.querySelector(".element__button").classList.toggle("element__button_active")}},{key:"_handleImageClick",value:function(){V(this._photoName,this._photoLink)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".element__img").src=this._photoLink,this._element.querySelector(".element__img").alt=this._photoName,this._element.querySelector(".element__title").textContent=this._photoName,this._element}}])&&n(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,c(o.key),o)}}function u(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===r(t)?t:String(t)}var a=u((function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"_showInputError",(function(e,t){var n=document.getElementById("".concat(e.id,"-error"));e.classList.add(o._config.inputErrorClass),n.textContent=t})),l(this,"_hideInputError",(function(e){var t=document.getElementById("".concat(e.id,"-error"));e.classList.remove(o._config.inputErrorClass),t.textContent=""})),l(this,"_checkInputValidity",(function(e){e.validity.valid?o._hideInputError(e):o._showInputError(e,e.validationMessage)})),l(this,"_hasInvalidInput",(function(){return o._inputList.some((function(e){return!e.validity.valid}))})),l(this,"_toggleButtonState",(function(){o._hasInvalidInput()?(o._buttonElement.classList.add(o._config.inactiveButtonClass),o._buttonElement.setAttribute("disabled",!0)):(o._buttonElement.classList.remove(o._config.inactiveButtonClass),o._buttonElement.removeAttribute("disabled"))})),l(this,"_setEventListeners",(function(){o._toggleButtonState(),o._inputList.forEach((function(e){e.addEventListener("input",function(){this._checkInputValidity(e),this._toggleButtonState()}.bind(o))}))})),l(this,"enableValidation",(function(){o._formElement.addEventListener("submit",(function(e){e.preventDefault()})),o._setEventListeners()})),l(this,"disableSubmitButton",(function(){o._buttonElement.classList.add(o._config.inactiveButtonClass),o._buttonElement.setAttribute("disabled",!0)})),this._config=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)})),s=document.querySelector(".content"),p=document.querySelector(".popup_edit"),d=document.querySelector(".popup_add"),_=document.querySelector(".popup_image"),m=s.querySelector(".profile__edit-button"),f=s.querySelector(".profile__add-button"),y=_.querySelector(".popup__close"),v=p.querySelector(".popup__close"),h=d.querySelector(".popup__close"),b=s.querySelector(".profile__usermane"),S=s.querySelector(".profile__about"),g=p.querySelector(".popup__form"),k=d.querySelector(".popup__form"),E=document.querySelector(".popup__input_type_username"),L=document.querySelector(".popup__input_type_job"),q=k.querySelector(".popup__input_type_title"),w=k.querySelector(".popup__input_type_link"),C=document.querySelector(".elements"),j=_.querySelector(".popup__caption"),I=_.querySelector(".popup__photo"),x={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__form-submit",inactiveButtonClass:"popup__submit-button_inactive",inputErrorClass:"popup__input-error"},B=function(e,t){return new o(e,t,".element-template",".element__img").generateCard()};[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){C.append(B(e.name,e.link))}));var P=new a(x,g),O=new a(x,k);function T(e){"Escape"===e.key&&D(document.querySelector(".popup_opened"))}function N(e){e.target===e.currentTarget&&D(document.querySelector(".popup_opened"))}function A(e){e.classList.add("popup_opened"),window.addEventListener("keydown",T),e.addEventListener("click",N)}function D(e){e.classList.remove("popup_opened"),window.removeEventListener("keydown",T),e.removeEventListener("click",N)}function V(e,t){A(_),j.textContent=e,I.src=t,I.alt=e}P.enableValidation(),O.enableValidation(),g.addEventListener("submit",(function(e){e.preventDefault(),b.textContent=E.value,S.textContent=L.value,D(p)})),m.addEventListener("click",(function(){return E.value=b.textContent,L.value=S.textContent,void A(p)})),f.addEventListener("click",(function(){return A(d)})),v.addEventListener("click",(function(){return D(p)})),h.addEventListener("click",(function(){return D(d)})),y.addEventListener("click",(function(){return D(_)})),k.addEventListener("submit",(function(e){var t,n;e.preventDefault(),t=q.value,n=w.value,C.prepend(B(t,n)),q.value="",w.value="",D(d),O.disableSubmitButton()}))})();